<!DOCTYPE html>
<!--
*	Author: Declan Finnerty and	Robert Hunter
*	Assignment:	Minor	Project	â€“	Eco Ninja, SxSW
*	Date	:	12/07/15
*	Ref:	
-->
<html lang="en">
	<head>
	<meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
 
	<title>Econ Ninja Sign up</title>
	<!-- Global stylesheet to reset page style for common starting point on each browser -->
	<link rel="stylesheet" type="text/css" href="css/GlobalDefaults.css">
	<!--<link rel="stylesheet" type="text/css" href="css/GlobalDefaults.css"-->
	<!-- The Global.css file has styling elements shared across site e.g. header, footer, nav, headings etc -->
	<link rel="stylesheet" type="text/css" href="css/Global.css">
	<link rel="stylesheet" type="text/css" href="Bootstrap3/css/bootstrap.min.css">

	<!-- Styling for registration -->
	<link rel="stylesheet" type="text/css" href="css/registration.css">
		
	</head>
	<body>


				<header class="bg-greenDark">
				
				</header>

				<div class="navbar navbar-default">
				    <div class="container-fluid bg-cream">

				      <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
				      <div class="navbar-header">
					       	<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
				              <span class="sr-only">Toggle navigation</span>
				              <span class="icon-bar"></span>
				              <span class="icon-bar"></span>
				              <span class="icon-bar"></span>
	            			</button>
	            		</div>
				  	

				  		<div id="navbar" class="navbar-collapse collapse">
				            <ul class="nav navbar-nav navbar-right">
					             <li role="presentation">
							    	<a class="topNav" href="index.html">Home</a>
							    </li>
							    <li role="presentation">
							    	<a class="topNav" href="registration.html">Profile</a>
							    </li>
							    <li role="presentation">
							    	<a class="topNav" href="quiz.html">Challenge</a>
							    </li>
							    <li role="presentation">
							    	<a class="topNav" href="Leaderboard.php">Leaderboards</a>
							    </li>
							    <li role="presentation">
							    	<a class="topNav" href="#">Blog</a>
							    </li>
							    <li role="presentation">
							    	<a class="topNav" href="#">Gallery</a>
							    </li>
							    <li role="presentation">
							    	<a class="topNav" href="#">About</a>
							    </li>
				          </ul>
				        </div>			  
				
				  </div> <!-- Close nav collapse -->
				</div>	 <!-- Close-->

			<div class="mainContent"> 
				<!-- Start of content here. Edit after -->
			  <h1 class="text-center register"> Become an Eco Ninja!</h1>

			<!-- Logic form table form -->
					<div class='row'>
						<form class="form-horizontal col-xs-10 col-xs-offset-1" action="SignIn_script.php"  method="post">

							<div class='row brown'> <!-- content row row-eq-height-->
								<div class="profileInput col-sm-9 col-md-9"><!-- profileInput open -->

									<div class="row"> <!-- input row -->
										  <div class="form-group">
										    <label for="inputName1" class="col-sm-2 control-label">Name </label>
										    <div class="col-sm-9 col-md-9">
										      <input type="text" class="form-control inputColor" id="inputName1" placeholder="Ninja Name">
										    </div>
										  </div>
										  <div class="form-group">
										    <label for="inputPassword2" class="col-sm-2 control-label">Password</label>
										    <div class="col-sm-9 col-md-9">
										      <input type="password" class="form-control inputColor" id="inputPassword2" placeholder="Password">
										    </div>
										  </div>
										  <div class="form-group">
										    <label for="inputSchool3" class="col-sm-2 control-label">Email</label>
										    <div class="col-sm-9 col-md-9">
										      <input type="text" class="form-control inputColor" id="inputSchool3" placeholder="Email">
										    </div>
										  </div>
										  <div class="form-group">
										    <label for="inputCounty4" class="col-sm-2 control-label">County</label>
										    <div class="col-sm-9 col-md-9">
												<select id="userCounty" class="form-control inputColor"  name="userCounty" required>
													<optgroup label="County" >
														<option value="Antrim">Antrim</option>
														<option value="Armagh">Armagh</option>
														<option value="Carlow">Carlow</option>
														<option value="Cavan">Cavan</option>
														<option value="Clare">Clare</option>
														<option value="Cork">Cork</option>
														<option value="Derry">Derry</option>
														<option value="Donegal">Donegal</option>
														<option value="Down">Down</option>
														<option value="Dublin">Dublin</option>
														<option value="Fermanagh">Fermanagh</option>
														<option value="Galway">Galway</option>
														<option value="Kerry">Kerry</option>
														<option value="Kildare">Kildare</option>
														<option value="Kilkenny">Kilkenny</option>
														<option value="Laois">Laois</option>
														<option value="Leitrim">Leitrim</option>
														<option value="Limerick">Limerick</option>
														<option value="Longford">Longford</option>
														<option value="Louth">Louth</option>
														<option value="Mayo">Mayo</option>
														<option value="Meath">Meath</option>
														<option value="Monaghan">Monaghan</option>
														<option value="Offaly">Offaly</option>
														<option value="Roscommon">Roscommon</option>
														<option value="Sligo">Sligo</option>
														<option value="Tipperary">Tipperary</option>
														<option value="Tyrone">Tyrone</option>
														<option value="Waterford">Waterford</option>
														<option value="Westmeath">Westmeath</option>
														<option value="Wexford">Wexford</option>
														<option value="Wicklow">Wicklow</option>
													</optgroup>
												</select>

										    </div>
										  </div>
									</div> <!-- / input row -->
								</div>	<!-- / profileInput -->

								<div class="profileAvatar col-sm-3 col-md-3"> <!-- profile avatar -->
										<div class="row text-center">
								      		<img src="assets/EarthNinja.png" alt="avatar" id="avatarImg">
								      	</div>
								      	
								     	<div class="caption avatarGroup">
								        
								        <p>
								        	<div class="btn-group" role="group" aria-label="...">
											  <button type="button" class="btn btn-default avatarSelHighlist" id="avatarMinus" disabled>
											  	<span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span>
											  </button>
											  
											  <button type="button" class="btn btn-default greenHighlight" id="avatarInfo">
											  		Choose Avatar
												</button>
											  <button type="button" class="btn btn-default avatarSelHighlist" id="avatarPlus">
											  	<span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span>
											  </button>
											</div>
								        </p>
									        <!-- info alert, hidden by default-->
											<div class="alert alert-info alert-dismissible avatarAlert" role="alert">
											  <button type="button" class="close" data-dismiss="alert" aria-label="Close">	<span aria-hidden="true">&times;</span></button>
											 	Select your ninja.
											</div>
								     	</div>
								</div><!-- / profile avatar -->

							</div><!-- /content row -->

							<div class='row'>  <!-- profile Submit row -->
									<div class="form-group"> <!-- profile Submit -->
									    <div class="profileSubmit">
									    	<div class=''>
									      		<button type="submit" class="btn btn-lg center-block greenHighlight" onclick="storeUsrLocaly()"> Create Profile</button>
									      	</div> <!-- /well -->
									    </div>
									</div> 				<!-- / profile Submit -->
							</div>  <!-- / profile Submit row -->

						</form>	<!-- / form -->
					</div> <!-- / form row -->

				<!-- End Of main content here -->
				</div>

				<footer class="bg-yellow">
					<img src="assets/imgs/ENJ_Logo.png" class="img-responsive" alt="Ninja Header">
				</footer>
		</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
		<script src="Bootstrap3/js/bootstrap.min.js"></script>	
				<script>

				// logic for alert show
				var alertCalled = false;
			  $('#avatarInfo').on('click', function () {
			   	if (!alertCalled) {
			   		$( ".avatarAlert" ).show();
			   		alertCalled = true;
			   		console.log('Alert shown');
			   	};
			  });


			  // selection component class construction
			  var selectionComponent = function (idStr,imgArray) {
			  			this.idStr = idStr;
			  			this.indexVal = 0;
			  			this.imgArray = imgArray;
			  };
			  var avatarComponent = new selectionComponent('avatar',["EarthNinja.png","LifeNinja.png","FireNinja.png","WaterNinja.png"]);
			  var crestComponent = new selectionComponent('crest',["ava1.png","ava2.png","ava3.png","ava4.png"]);

			  // Logic to handle Avatar Selection
			  $('#avatarPlus').on('click', function(){
			  	changeComponent(true, avatarComponent);
			  });

			  $('#avatarMinus').on('click', function(){
			  	changeComponent(false,avatarComponent);
				});

			// Logic to handle Crest Selection
			  $('#crestPlus').on('click', function(){
			  	changeComponent(true, crestComponent);
			  });

			  $('#crestMinus').on('click', function(){
			  	changeComponent(false,crestComponent);
				});			  

			  // this function handles swapping display and image values for the image 
			  function changeComponent(plus, component) {

			  	if (!component.imgArray || !component.idStr) {
			  		throw new Error('Vital params not set!');
			  	};

			  	if (plus) component.indexVal++;
			  	else component.indexVal--;

			  	console.log('Index: ' + component.indexVal);

			  	//check if state needs toggled
			  	var plusID = '#'+ component.idStr +'Plus';
			  	if (component.indexVal >= component.imgArray.length -1) {
			  			$(plusID).prop('disabled', true);
			  	}
			  	else {
			  			$(plusID).prop('disabled', false);
			  	}

			  	// check if avatarMinus state needs toggled
			  	var minusID = '#'+ component.idStr +'Minus';
			  	if (component.indexVal <= 0 ) {
			  			$(minusID).prop('disabled', true);
			  	}
			  	else {
			  			$(minusID).prop('disabled', false);
			  	}

			  	// Update display name of current avatar
			  	var currentImg = component.imgArray[component.indexVal];
			  	var imgNameStr = new String(currentImg);
			  	imgNameStr = imgNameStr.replace('.png','');
			  	$('#'+component.idStr +'Info').text(imgNameStr);

			  	// Update avatar Display Img src
			  	var newSrc = 'assets/' + currentImg;
			  	$('#'+component.idStr +'Img').attr('src', newSrc);
			  	console.log(newSrc);

			  };

		</script>
		
	<!-- A script that stores the users data localy-->
	<script src="js/storeUsrLocaly.js"></script>

	</body>
</html>